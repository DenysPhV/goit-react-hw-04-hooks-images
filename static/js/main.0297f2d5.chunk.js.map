{"version":3,"sources":["components/Modal/Modal.module.scss","components/App.module.scss","components/ImageGallery/ImageGalleryItem.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/services/getImagesApi.js","components/Searchbar/SearchBar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","fetchData","a","searchQuery","currentPage","perPage","axios","get","response","data","hits","getImagesApi","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","trim","toast","error","this","className","s","SearchForm","type","SearchForm__button","SearchForm__button__label","autoComplete","autoFocus","placeholder","onChange","SearchForm__input","Component","ImageGalleryItem","images","setLargeURL","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItem__image","ImageGallery","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeydown","code","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","isLoading","largeURL","onChangeQuery","fetchImages","options","then","prevState","catch","finally","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","renderLoadMoreButton","length","color","height","width","radius","theme","transition","Flip","draggableDirection","ReactDom","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0297f2d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__31qJY\",\"Modal\":\"Modal_Modal__EHi_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3hXuV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Ftxz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1sIgR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__5aB9T\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst MY_KEY = '22979201-d3b88ee555cfd640fb3d2f529';\n\nconst fetchData = async ({\n  searchQuery = '',\n  currentPage = 1,\n  perPage = 12,\n}) => {\n  const response = await axios.get(\n    `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n  );\n  return response.data.hits;\n};\n\nconst getImagesApi = { fetchData };\nexport default getImagesApi;\n","import { Component } from 'react';\n\nimport { toast } from 'react-toastify';\n\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.scss';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n\n    if (this.state.query.trim() === '') {\n      // alert('Ты ничего не ввел');\n      toast.error('Please enter at least one letter !');\n      return;\n    }\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n            className={s.SearchForm__input}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({ images, setLargeURL }) =>\n  images.map(({ id, webformatURL, largeImageURL, tags }) => (\n    <li key={id}>\n      <img\n        onClick={() => setLargeURL(largeImageURL)}\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItem__image}\n      />\n    </li>\n  ));\n\nImageGalleryItem.propTypes = {\n  setLargeURL: PropTypes.func.isRequired,\n  image: PropTypes.arrayOf({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.scss';\n\nconst ImageGallery = ({ images, setLargeURL }) => (\n  <ul className={s.ImageGallery}>\n    <ImageGalleryItem images={images} setLargeURL={setLargeURL} />\n  </ul>\n);\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nconst Button = ({ onLoadMore }) => (\n  <button onClick={onLoadMore} type=\"button\" className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = (e) => {\n    if (e.code === 'Escape') {\n      this.props.setLargeURL();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.setLargeURL();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  setLargeURL: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, Flip } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport s from './App.module.scss';\n\nimport getImagesApi from './services/getImagesApi';\n\nimport Searchbar from './Searchbar';\nimport ImageGallery from './ImageGallery';\nimport Button from './Button';\nimport Modal from './Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    largeURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, currentPage } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n\n    if (currentPage > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  setLargeURL = (largeURL) => {\n    this.setState({ largeURL });\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      images: [],\n      searchQuery: query,\n      currentPage: 1,\n      largeURL: '',\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    getImagesApi\n      .fetchData(options)\n      .then((hits) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        return this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { images, isLoading, largeURL } = this.state;\n    const renderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery images={images} setLargeURL={this.setLargeURL} />\n\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            radius={50}\n          />\n        )}\n\n        {renderLoadMoreButton && <Button onLoadMore={this.fetchImages} />}\n\n        <ToastContainer theme=\"dark\" transition={Flip} draggableDirection=\"y\" />\n\n        {largeURL && (\n          <Modal setLargeURL={this.setLargeURL}>\n            <img src={largeURL} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDom from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport React from 'react';\n\nReactDom.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__vgYCz\",\"SearchForm\":\"Searchbar_SearchForm__1FoZt\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3ktsy\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__1eCCv\",\"SearchForm__input\":\"Searchbar_SearchForm__input__16NVl\"};"],"sourceRoot":""}